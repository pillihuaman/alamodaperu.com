<div class="container">
  <form [formGroup]="employeRequestForm" (ngSubmit)="onSubmit()">
    <nb-accordion multi=true>
      <nb-accordion-item>
        <nb-accordion-item-header>
          Register New Employee
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <div class="form-group" *ngIf="!isNewPage()">
            <mat-form-field class="wide-input">
              <input matInput type="text" placeholder="ID" required formControlName="id" readonly />
            </mat-form-field>
          </div>

          <div class="form-group">
            <mat-form-field>
              <input matInput type="text" placeholder="Name" required formControlName="name" />
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field>
              <input matInput type="text" placeholder="Last Name" required formControlName="lastName" />
            </mat-form-field>
          </div>
          <div class="form-group">
            <div class="datepicker-container">
              <input nbInput placeholder="Start date" formControlName="startDate" [nbDatepicker]="startDate">
              <nb-date-timepicker #startDate withSeconds [format]="'dd/MM/yyyy HH:mm:ss'"
              ></nb-date-timepicker>
            </div>
          </div>
          <br>
          <div class="form-group">
            <div class="datepicker-container">
              <input nbInput placeholder="End Date" formControlName="finishDate" [nbDatepicker]="finishDate" >
              <nb-date-timepicker withSeconds #finishDate withSeconds [format]="'dd/MM/yyyy HH:mm:ss'"
              ></nb-date-timepicker>
            </div>
          </div>
          <div class="form-group">
            <mat-form-field>
              <input matInput type="text" placeholder="typeDocument" formControlName="typeDocument" />
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field>
              <input matInput type="numbebu" placeholder="Salary Hours" formControlName="salaryHours" />
            </mat-form-field>
          </div>
          <div class="form-group">
            <mat-form-field>
              <input matInput type="text" placeholder="Document" formControlName="document" />
            </mat-form-field>
          </div>


          <div class="form-group">
            <button type="submit" class="btn btn-primary">Save</button>
          </div>

        </nb-accordion-item-body>
      </nb-accordion-item>

      <nb-accordion-item expanded=true disabled="false">
        <nb-accordion-item-header>
          Search Information
        </nb-accordion-item-header>
        <nb-accordion-item-body>
          <div class="row">
            <div class="col-md-3 col-sm-6">
              <div class="form-group">
                <mat-form-field>
                  <input matInput type="text" placeholder="ID" formControlName="idToFind" (input)="checkInputs()" />
                </mat-form-field>
                <app-validation-message *ngIf="employeRequestForm.get('idToFind')?.value"
                  [control]="employeRequestForm.get('idToFind')" [errorMessages]="listError">
                </app-validation-message>
              </div>
            </div>
            <div class="col-md-3 col-sm-6">
              <div class="form-group">
                <mat-form-field>
                  <input matInput type="text" placeholder="Name" formControlName="nameToFind" (input)="checkInputs()" />
                </mat-form-field>
              </div>
            </div>

            <div class="col-md-3 col-sm-6">
              <div class="form-group">
                <mat-form-field>
                  <input matInput type="text" placeholder="Last Name" formControlName="lastNameToFind"
                    (input)="checkInputs()" />
                </mat-form-field>
              </div>
            </div>

            <div class="col-md-3 col-sm-6">
              <div class="form-group">
                <mat-form-field>
                  <input matInput type="text" placeholder="Document" formControlName="documentToFind"
                    (input)="checkInputs()" />
                </mat-form-field>
              </div>
            </div>

            <div class="col-md-3 col-sm-6">
              <div class="form-group">
                <button type="button" class="btn btn-primary" (click)="findByparameter()"
                  [disabled]="searchButtonDisabled">Search</button>

              </div>
            </div>
          </div>

          <app-table-datasource [datas]="datas" [defaultColumns]="defaultColumnsInput"
            (pageChange)="onPageChange($event)" (pageSizeChange)="onPageSizeChange($event)"
            [hasMorePagesT]="hasMorePagesT" (deleteAction)="handleActionClick($event)"
            (editAction)="handleEditicionAction($event)" [typeOfSearch]="typeOfSearch"></app-table-datasource>
        </nb-accordion-item-body>
      </nb-accordion-item>
    </nb-accordion>
  </form>
</div>